---
plugin: ansible_collections.nutanix.ncp.plugins.inventory.ntnx_prism_vm_inventory

# ---------- Required Nutanix connection info ----------
nutanix_hostname: "{{ lookup('env', 'NUTANIX_HOST') }}"
nutanix_username: "{{ lookup('env', 'NUTANIX_USERNAME') }}"
nutanix_password: "{{ lookup('env', 'NUTANIX_PASSWORD') }}"
validate_certs: "{{ (lookup('env', 'NUTANIX_VALIDATE_CERTS') | default('false')) | bool }}"

# Some plugin versions require telling it what you're talking to.
# If you're pointing at Prism Central, set pc.
# If you're pointing at a single Prism Element cluster, set pe.
# If you don't know yet, start with pc.
prism_type: pc

# ---------- Host shaping ----------
# 'compose' lets us set what Ansible should ssh to for each discovered VM.
# The plugin usually returns `ip_address` in its host vars. We map that
# into ansible_host so Ansible knows how to connect.
compose:
  ansible_host: ip_address

# Optional grouping, nice for AAP UI:
# keyed_groups:
#   - key: cluster_name
#     prefix: nutanix_cluster

